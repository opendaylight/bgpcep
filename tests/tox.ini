[tox]
skipsdist = true
envlist =
    pytest

[testenv]
passenv =
    http_proxy
    HTTP_PROXY
    https_proxy
    HTTPS_PROXY
    no_proxy
    NO_PROXY
    JAVA_HOME
usedevelop = true
basepython = python3
deps =
    -r{toxinidir}/requirements.txt

[testenv:pytest]
commands =
    pytest --alluredir=allure-results {posargs}

[pytest]
markers =
    skip_if_fails(str_or_list): Skips a test if any prerequisite test case(s) did not pass.
minversion = 8.4
addopts = -rAsv --show-capture=no
log_cli = true
log_level = INFO
log_cli_level = INFO
log_format = %(asctime)s [%(levelname)s] %(message)s
env =
    D:ODL_IP=127.0.0.1
    D:RESTCONF_PORT=8181
    D:KARAF_LOG_LEVEL=INFO
    D:TEST_DURATION_MULTIPLIER=1
