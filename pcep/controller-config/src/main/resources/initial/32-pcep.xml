<?xml version="1.0" encoding="UTF-8"?>
<!-- vi: set et smarttab sw=4 tabstop=4: -->
<!--
      Copyright (c) 2013 Cisco Systems, Inc. and others.  All rights reserved.

 This program and the accompanying materials are made available under the
 terms of the Eclipse Public License v1.0 which accompanies this distribution,
 and is available at http://www.eclipse.org/legal/epl-v10.html
-->
<snapshot>
    <required-capabilities>
        <capability>urn:opendaylight:params:xml:ns:yang:controller:md:sal:binding?module=opendaylight-md-sal-binding&amp;revision=2013-10-28</capability>
        <capability>urn:opendaylight:params:xml:ns:yang:controller:netty?module=netty&amp;revision=2013-11-19</capability>
        <capability>urn:opendaylight:params:xml:ns:yang:controller:pcep:impl?module=odl-pcep-impl-cfg&amp;revision=2013-06-27</capability>
        <capability>urn:opendaylight:params:xml:ns:yang:controller:pcep:spi?module=config-pcep-spi&amp;revision=2013-11-15</capability>
        <capability>urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider?module=config-pcep-topology-provider&amp;revision=2013-11-15</capability>
        <capability>urn:opendaylight:params:xml:ns:yang:controller:programming:spi?module=config-programming-spi&amp;revision=2013-11-15</capability>

    </required-capabilities>
    <configuration>

        <data xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
            <modules xmlns="urn:opendaylight:params:xml:ns:yang:controller:config">
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">prefix:pcep-extensions-impl</type>
                    <name>global-pcep-extensions</name>
                    <extension>
                        <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extension</type>
                        <name>pcep-parser-base</name>
                    </extension>

                    <!--
                         Only one pair of stateful & initiated parsers can be loaded at a time
                         -->

                    <!-- This block is draft-ietf-pce-stateful-pce-07 + draft-ietf-pce-inititated-pce-00 -->
                    <extension>
                        <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extension</type>
                        <name>pcep-parser-ietf-stateful07</name>
                    </extension>
                    <extension>
                        <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extension</type>
                        <name>pcep-parser-ietf-initiated00</name>
                    </extension>


                    <!-- This block is draft-ietf-pce-stateful-pce-02 + draft-crabbe-pce-inititated-pce-00 -->
                    <!--extension>
                        <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extension</type>
                        <name>pcep-parser-ietf-stateful02</name>
                    </extension>
                    <extension>
                        <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extension</type>
                        <name>pcep-parser-crabbe-initiated00</name>
                    </extension-->
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-parser-base</type>
                    <name>pcep-parser-base</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-parser-ietf-stateful07</type>
                    <name>pcep-parser-ietf-stateful07</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-parser-ietf-initiated00</type>
                    <name>pcep-parser-ietf-initiated00</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-parser-ietf-stateful02</type>
                    <name>pcep-parser-ietf-stateful02</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-parser-crabbe-initiated00</type>
                    <name>pcep-parser-crabbe-initiated00</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-session-proposal-factory-impl</type>
                    <name>global-pcep-session-proposal-factory</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:impl">prefix:pcep-dispatcher-impl</type>
                    <name>global-pcep-dispatcher</name>
                    <pcep-extensions>
                        <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extensions</type>
                        <name>global-pcep-extensions</name>
                    </pcep-extensions>
                    <pcep-session-proposal-factory>
                        <type xmlns:pcep="urn:opendaylight:params:xml:ns:yang:controller:pcep">pcep:pcep-session-proposal-factory</type>
                        <name>global-pcep-session-proposal-factory</name>
                    </pcep-session-proposal-factory>
                    <boss-group>
                        <type xmlns:netty="urn:opendaylight:params:xml:ns:yang:controller:netty">netty:netty-threadgroup</type>
                        <name>global-boss-group</name>
                    </boss-group>
                    <worker-group>
                        <type xmlns:netty="urn:opendaylight:params:xml:ns:yang:controller:netty">netty:netty-threadgroup</type>
                        <name>global-worker-group</name>
                    </worker-group>
                    <timer>
                        <type xmlns:netty="urn:opendaylight:params:xml:ns:yang:controller:netty">netty:netty-timer</type>
                        <name>global-timer</name>
                    </timer>
                </module>

                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider">prefix:pcep-topology-stateful02</type>
                    <name>global</name>
                </module>
                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider">prefix:pcep-topology-stateful07</type>
                    <name>global</name>
                </module>

                <module>
                    <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider">prefix:pcep-topology-provider</type>
                    <name>pcep-topology</name>
                    <data-provider>
                        <type xmlns:binding="urn:opendaylight:params:xml:ns:yang:controller:md:sal:binding">binding:binding-data-broker</type>
                        <name>binding-data-broker</name>
                    </data-provider>
                    <dispatcher>
                        <type xmlns:pcep="urn:opendaylight:params:xml:ns:yang:controller:pcep">pcep:pcep-dispatcher</type>
                        <name>global-pcep-dispatcher</name>
                    </dispatcher>
                    <rpc-registry>
                        <type xmlns:binding="urn:opendaylight:params:xml:ns:yang:controller:md:sal:binding">binding:binding-rpc-registry</type>
                        <name>binding-rpc-broker</name>
                    </rpc-registry>
                    <scheduler>
                        <type xmlns:pgmspi="urn:opendaylight:params:xml:ns:yang:controller:programming:spi">pgmspi:instruction-scheduler</type>
                        <name>global-instruction-scheduler</name>
                    </scheduler>
                    <stateful-plugin>
                        <type xmlns:prefix="urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider">prefix:pcep-topology-stateful</type>
                        <name>stateful07</name>
                    </stateful-plugin>
                    <topology-id>pcep-topology</topology-id>
                </module>
            </modules>

            <services xmlns="urn:opendaylight:params:xml:ns:yang:controller:config">
                <service>
                    <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extensions</type>
                    <instance>
                        <name>global-pcep-extensions</name>
                        <provider>/config/modules/module[name='pcep-extensions-impl']/instance[name='global-pcep-extensions']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:pcepspi="urn:opendaylight:params:xml:ns:yang:controller:pcep:spi">pcepspi:extension</type>
                    <instance>
                        <name>pcep-parser-base</name>
                        <provider>/config/modules/module[name='pcep-parser-base']/instance[name='pcep-parser-base']</provider>
                    </instance>
                    <instance>
                        <name>pcep-parser-ietf-initiated00</name>
                        <provider>/config/modules/module[name='pcep-parser-ietf-initiated00']/instance[name='pcep-parser-ietf-initiated00']</provider>
                    </instance>
                    <instance>
                        <name>pcep-parser-ietf-stateful07</name>
                        <provider>/config/modules/module[name='pcep-parser-ietf-stateful07']/instance[name='pcep-parser-ietf-stateful07']</provider>
                    </instance>
                    <instance>
                        <name>pcep-parser-crabbe-initiated00</name>
                        <provider>/config/modules/module[name='pcep-parser-crabbe-initiated00']/instance[name='pcep-parser-crabbe-initiated00']</provider>
                    </instance>
                    <instance>
                        <name>pcep-parser-ietf-stateful02</name>
                        <provider>/config/modules/module[name='pcep-parser-ietf-stateful02']/instance[name='pcep-parser-ietf-stateful02']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:pcep="urn:opendaylight:params:xml:ns:yang:controller:pcep">pcep:pcep-session-proposal-factory</type>
                    <instance>
                        <name>global-pcep-session-proposal-factory</name>
                        <provider>/config/modules/module[name='pcep-session-proposal-factory-impl']/instance[name='global-pcep-session-proposal-factory']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:pcep="urn:opendaylight:params:xml:ns:yang:controller:pcep">pcep:pcep-dispatcher</type>
                    <instance>
                        <name>global-pcep-dispatcher</name>
                        <provider>/config/modules/module[name='pcep-dispatcher-impl']/instance[name='global-pcep-dispatcher']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:pcep="urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider">pcep:pcep-topology-reference</type>
                    <instance>
                        <name>pcep-topology</name>
                        <provider>/config/modules/module[name='pcep-topology-provider']/instance[name='pcep-topology']</provider>
                    </instance>
                </service>
                <service>
                    <type xmlns:pcep="urn:opendaylight:params:xml:ns:yang:controller:pcep:topology:provider">pcep:pcep-topology-stateful</type>
                    <instance>
                        <name>stateful02</name>
                        <provider>/config/modules/module[name='pcep-topology-stateful02']/instance[name='global']</provider>
                    </instance>
                    <instance>
                        <name>stateful07</name>
                        <provider>/config/modules/module[name='pcep-topology-stateful07']/instance[name='global']</provider>
                    </instance>
                </service>
            </services>
        </data>

    </configuration>
</snapshot>
